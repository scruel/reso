(()=>{var e={};e.id=373,e.ids=[373],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},193:(e,r,s)=>{"use strict";s.r(r),s.d(r,{patchFetch:()=>x,routeModule:()=>l,serverHooks:()=>m,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>h});var t={};s.r(t),s.d(t,{GET:()=>p,POST:()=>d,dynamic:()=>i});var o=s(2706),a=s(8203),n=s(5994),u=s(9187);let i="force-dynamic",c=[];async function d(e){try{let r;let s=await e.json(),t={id:Date.now().toString(),uuid:s.uuid||s.sessionId,actionType:s.actionType||"search",query:s.query,searchType:s.searchType,timestamp:s.timestamp||new Date().toISOString(),userAgent:s.userAgent||e.headers.get("user-agent"),ip:e.headers.get("x-forwarded-for")||e.headers.get("x-real-ip")||"::1",sessionId:s.uuid||s.sessionId||"anonymous"};return c.push(t),c.length>100&&(c=c.slice(-100)),r=s.message?s.message:t.query?`ç”¨æˆ¶ ${t.uuid} æœç´¢äº† "${t.query}"`:`ç”¨æˆ¶ ${t.uuid} åŸ·è¡Œäº†ç©ºæœç´¢`,console.log(`ðŸ” ${r}`),u.NextResponse.json({success:!0,message:"Search logged successfully",logId:t.id})}catch(e){return console.error("Search log error:",e),u.NextResponse.json({success:!1,error:"Failed to log search"},{status:500})}}async function p(){return u.NextResponse.json({success:!0,data:c,total:c.length})}let l=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/log-search/route",pathname:"/api/log-search",filename:"route",bundlePath:"app/api/log-search/route"},resolvedPagePath:"/Users/alichen/Downloads/agent_workspace/ecommerce-search-main/frontend/src/app/api/log-search/route.ts",nextConfigOutput:"",userland:t}),{workAsyncStorage:g,workUnitAsyncStorage:h,serverHooks:m}=l;function x(){return(0,n.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:h})}},6487:()=>{},8335:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[989,452],()=>s(193));module.exports=t})();
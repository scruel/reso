(()=>{var e={};e.id=886,e.ids=[886],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},58:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>l,serverHooks:()=>h,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>d});var n=t(2706),a=t(8203),i=t(5994),o=t(9187);function c(e,r,t=500,s){let n={success:!1,error:{type:e,message:r,statusCode:t,...s&&{details:s}},timestamp:new Date().toISOString()};return console.error(`API Error [${e}]:`,{message:r,statusCode:t,details:s,timestamp:n.timestamp}),o.NextResponse.json(n,{status:t})}let p={1:{title:"Apple iPhone 15 Pro Max 256GB",pic_url:"https://source.unsplash.com/random/400x400?sig=1",dchain:{id:"dchain_1",description:"根據用戶評價和專家測試，這款 iPhone 15 Pro Max 在拍照、性能和電池壽命方面表現卓越，特別適合專業用戶和攝影愛好者。"},reference_links:"https://www.apple.com/tw/iphone-15-pro/"},2:{title:"Keychron K8 機械鍵盤",pic_url:"https://source.unsplash.com/random/400x400?sig=2",reference_links:"https://www.keychron.com/products/keychron-k8-wireless-mechanical-keyboard"},3:{title:"Sony WH-1000XM5",pic_url:"https://source.unsplash.com/random/400x400?sig=3",dchain:{id:"dchain_3",description:"Sony WH-1000XM5 憑藉其業界領先的降噪技術和優質音質，成為商務人士和音樂愛好者的首選。電池續航力可達30小時，適合長途旅行使用。"},reference_links:"https://electronics.sony.com/audio/headphones/headband/p/wh1000xm5-b"},4:{title:"Samsung Galaxy S24 Ultra 1TB",pic_url:"https://images.samsung.com/is/image/samsung/p6pim/ph/sm-s928bzgcphl/gallery/ph-galaxy-s24-ultra-s928-sm-s928bzgcphl-thumb-539711237",reference_links:"https://www.samsung.com/tw/smartphones/galaxy-s24-ultra/"},5:{title:"Sony WH-1000XM5 無線降噪耳機",pic_url:"https://m.media-amazon.com/images/I/61KPF+Zxj-L._AC_SL1500_.jpg",dchain:{id:"dchain_5",description:"這款耳機搭載 V1 處理器和雙噪音感測器技術，提供卓越的降噪體驗。LDAC 技術確保高解析度音質傳輸，讓您享受更豐富的音樂細節。"},reference_links:"https://www.sony.com.tw/electronics/headband-headphones/wh-1000xm5"}};async function d(e){try{let{searchParams:r}=new URL(e.url),t=r.get("id")||r.get("tid");if(!t)return c("validation","缺少必需參數: id 或 tid",400);if(!/^[0-9]+$/.test(t))return c("validation","產品ID格式無效，必須是數字",400,{providedId:t});let s=p[t];if(!s)return c("not_found",`找不到ID為 "${t}" 的產品詳情`,404,{requestedId:t,availableIds:Object.keys(p)});return o.NextResponse.json({success:!0,data:s,timestamp:new Date().toISOString()})}catch(e){return(console.error("Unhandled API error:",e),e instanceof Error)?e.message.includes("ECONNREFUSED")||e.message.includes("ENOTFOUND")?c("network","無法連接到後端服務，請稍後再試",503,{originalError:e.message}):e.message.includes("timeout")?c("network","請求超時，請稍後再試",408,{originalError:e.message}):e.message.includes("validation")||e.message.includes("invalid")?c("validation","請求參數無效",400,{originalError:e.message}):c("server",e.message||"內部服務器錯誤",500,{originalError:e.message}):c("unknown","發生未知錯誤，請稍後再試",500,{originalError:String(e)})}}let l=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/thread/route",pathname:"/api/thread",filename:"route",bundlePath:"app/api/thread/route"},resolvedPagePath:"/Users/alichen/Downloads/agent_workspace/ecommerce-search-main/frontend/src/app/api/thread/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:u,workUnitAsyncStorage:m,serverHooks:h}=l;function g(){return(0,i.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:m})}},6487:()=>{},8335:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[989,452],()=>t(58));module.exports=s})();